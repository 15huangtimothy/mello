(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){},18:function(e,t,n){},20:function(e,t,n){},22:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(7),l=n.n(r),c=(n(14),n(16),n(1)),i=n(2),s=n(4),u=n(3),d=n(5),h=(n(18),n(20),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container login-container"},o.a.createElement("div",{className:"panel text-center center-block"},o.a.createElement("h1",{className:"title"},"mello."),o.a.createElement("button",{onClick:this.props.onLogin,type:"button",className:"btn login-btn"},"Log In with Trello")))}}]),t}(a.Component)),m=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={boards:null},n.generateBoardList=function(){return n.state.boards.map(function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.name)})},n.props.trelloHandler.loadBoards(function(e){n.setState({boards:e})}),n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("select",{className:"form-control select-board",onChange:this.props.onSelect},o.a.createElement("option",{key:-1,value:-1},"Select Board"),this.state.boards&&this.generateBoardList())}}]),t}(a.Component),b=(n(22),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("nav",{className:"navbar"},o.a.createElement("div",{className:"col-sm-3 text-left"},o.a.createElement("ul",{className:"navbar-nav align-middle"},o.a.createElement("li",{className:"nav-item"},o.a.createElement(m,{trelloHandler:this.props.trelloHandler,onSelect:this.props.onSelect})))),o.a.createElement("div",{className:"col-sm-6"},o.a.createElement("h1",{className:"title navbar-title align-middle"},"mello.")),o.a.createElement("div",{className:"col-sm-3 text-right"},o.a.createElement("i",{className:"material-icons account-icon align-middle"},"account_circle")))}}]),t}(a.Component)),f=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={selectedBoard:null},n.handleClick=function(){console.log(n.props.trelloHandler.boards)},n.handleSelect=function(e){n.props.trelloHandler.getBoard(e.target.value,function(e){n.setState({selectedBoard:e},n.boardSelected)})},n.boardSelected=function(){n.setBackground()},n.setBackground=function(){n.state.selectedBoard&&(document.body.style.backgroundImage="url("+n.state.selectedBoard.prefs.backgroundImage+")")},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(b,{trelloHandler:this.props.trelloHandler,onSelect:this.handleSelect}),o.a.createElement("button",{className:"btn btn-primary",onClick:this.handleClick},"Hi"))}}]),t}(a.Component),p=function e(t){var n=this;Object(c.a)(this,e),this.authorize=function(e){n.Trello.authorize({type:"popup",name:"mello",scope:{read:!0,write:!0},expiration:"never",success:function(){e(!0),this.authorized=!0,console.log("Authorization Successful")}.bind(n),error:function(){e(!1),console.log("Authorization Failed")}})},this.loadBoards=function(e){n.Trello.get("/members/me/boards?filter=open",function(t){console.log("Boards loaded"),e(t),this.boards=t}.bind(n),function(){console.log("Failed to load boards")})},this.getBoard=function(e,t){"-1"!==e&&n.Trello.get("/boards/"+e,function(e){t(e)},function(){console.log("Failed to get board: "+e)})},this.Trello=t,this.authorized=!1,this.boards=null},g=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).Trello=new p(window.Trello),n.state={authorized:!1},n.onLogin=function(){console.log("Login Request"),n.Trello.authorize(n.verifyAuthorize)},n.verifyAuthorize=function(e){e&&n.setState({authorized:!0})},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.state.authorized?o.a.createElement(f,{trelloHandler:this.Trello}):o.a.createElement(h,{onLogin:this.onLogin})}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,n){e.exports=n(24)}},[[8,2,1]]]);
//# sourceMappingURL=main.26ee156d.chunk.js.map
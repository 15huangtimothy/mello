(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){},103:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(38),c=a.n(r),l=(a(49),a(51),a(2)),s=a(3),i=a(6),d=a(4),u=a(5),m=(a(53),a(55),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container login-container"},o.a.createElement("div",{className:"panel text-center center-block"},o.a.createElement("h1",{className:"title"},"mello."),o.a.createElement("button",{onClick:this.props.onLogin,type:"button",className:"btn login-btn"},"Log In with Trello")))}}]),t}(n.Component)),b=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).state={boards:null},a.generateBoardList=function(){return a.state.boards.map(function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.name)})},a.props.trelloHandler.loadBoards(function(e){a.setState({boards:e})}),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("select",{className:"form-control select-board",onChange:this.props.onSelect},o.a.createElement("option",{key:-1,value:-1},"Select Board"),this.state.boards&&this.generateBoardList())}}]),t}(n.Component),h=(a(57),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(d.a)(t).call(this,e))).state={memberID:null},a.generateAccountLink=function(){return a.state.memberID?"https://trello.com/"+a.state.memberID+"/account":"#"},a.props.trelloHandler.getMember(function(e){a.setState({memberID:e.id})}),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("nav",{className:"navbar"},o.a.createElement("div",{className:"col-sm-3 text-left"},o.a.createElement("ul",{className:"navbar-nav align-middle"},o.a.createElement("li",{className:"nav-item"},o.a.createElement(b,{trelloHandler:this.props.trelloHandler,onSelect:this.props.onSelect})))),o.a.createElement("div",{className:"col-sm-6"},o.a.createElement("h1",{className:"title navbar-title align-middle"},"mello.")),o.a.createElement("div",{className:"col-sm-3 text-right"},o.a.createElement("a",{href:this.generateAccountLink(),className:"account-icon align-middle"},o.a.createElement("i",{className:"material-icons align-middle"},"account_circle"))))}}]),t}(n.Component)),f=a(11),p=a(8),g=a(10),v=(a(59),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(g.b,{draggableId:this.props.task.id,index:this.props.index},function(t,a){return o.a.createElement("div",Object.assign({className:"list-item"},t.draggableProps,t.dragHandleProps,{ref:t.innerRef}),e.props.task.content)})}}]),t}(n.Component)),k=(a(99),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"card t-list"},o.a.createElement("div",{className:"card-header"},o.a.createElement("h3",null,"Hi")),o.a.createElement(g.c,{droppableId:this.props.column.id},function(t,a){return o.a.createElement("div",Object.assign({className:"list-item-container",ref:t.innerRef},t.droppableProps),e.props.tasks.map(function(e,t){return o.a.createElement(v,{key:e.id,task:e,index:t})}),t.placeholder)}))}}]),t}(n.Component)),O=(a(101),{tasks:{"task-1":{id:"task-1",content:"Take out the garbage"},"task-2":{id:"task-2",content:"Watch my favourite show"},"task-3":{id:"task-3",content:"Charge my phone"},"task-4":{id:"task-4",content:"Cook dinner"}},columns:{"column-1":{id:"column-1",title:"To do",taskIds:["task-1","task-2","task-3","task-4"]},"column-2":{id:"column-2",title:"In Progress",taskIds:[]},"column-3":{id:"column-3",title:"Done",taskIds:[]}},columnOrder:["column-1","column-2","column-3"]}),j=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={data:O},a.onDragEnd=function(e){var t=e.destination,n=e.source,o=e.draggableId;if(t&&(t.droppableId!==n.droppableId||t.index!==n.index)){var r=a.state.data.columns[n.droppableId],c=a.state.data.columns[t.droppableId],l=Array.from(r.taskIds);l.splice(n.index,1);var s=Object(p.a)({},r,{taskIds:l});if(r===c){l.splice(t.index,0,o);var i=Object(p.a)({},a.state.data,{columns:Object(p.a)({},a.state.data.columns,Object(f.a)({},s.id,s))});a.setState({data:i})}else{var d,u=Array.from(c.taskIds);u.splice(t.index,0,o);var m=Object(p.a)({},c,{taskIds:u}),b=Object(p.a)({},a.state.data,{columns:Object(p.a)({},a.state.data.columns,(d={},Object(f.a)(d,s.id,s),Object(f.a)(d,m.id,m),d))});a.setState({data:b})}}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(g.a,{onDragEnd:this.onDragEnd},o.a.createElement("div",{className:"container container-board"},this.state.data.columnOrder.map(function(t){var a=e.state.data.columns[t],n=a.taskIds.map(function(t){return e.state.data.tasks[t]});return o.a.createElement(k,{key:a.id,column:a,tasks:n})})))}}]),t}(n.Component),y=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={selectedBoard:null},a.handleClick=function(){console.log(a.props.trelloHandler.boards)},a.handleSelect=function(e){a.props.trelloHandler.getBoard(e.target.value,function(e){a.setState({selectedBoard:e},a.boardSelected)},function(){a.setState({selectedBoard:null},a.boardDeselected)})},a.boardSelected=function(){a.setBackground(!0)},a.boardDeselected=function(){a.setBackground(!1)},a.setBackground=function(e){e?a.state.selectedBoard&&(document.body.style.backgroundImage="url("+a.state.selectedBoard.prefs.backgroundImage+")"):document.body.style.backgroundImage="none"},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(h,{trelloHandler:this.props.trelloHandler,onSelect:this.handleSelect}),o.a.createElement(j,null))}}]),t}(n.Component),E=function e(t){var a=this;Object(l.a)(this,e),this.authorize=function(e){a.Trello.authorize({type:"popup",name:"mello.",scope:{read:!0,write:!0},expiration:"never",success:function(){e(!0),this.authorized=!0,console.log("Authorization Successful")}.bind(a),error:function(){e(!1),console.log("Authorization Failed")}})},this.getMember=function(e){a.Trello.get("/members/me",function(t){e(t),console.log("Member loaded succesfully")},function(){console.log("Failed to load member")})},this.loadBoards=function(e){a.Trello.get("/members/me/boards?filter=open",function(t){console.log("Boards loaded"),e(t),this.boards=t}.bind(a),function(){console.log("Failed to load boards")})},this.getBoard=function(e,t,n){"-1"!==e?a.Trello.get("/boards/"+e,function(e){t(e)},function(){console.log("Failed to get board: "+e)}):n()},this.Trello=t,this.authorized=!1,this.boards=null,this.member=null},I=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).Trello=new E(window.Trello),a.state={authorized:!1},a.onLogin=function(){console.log("Login Request"),a.Trello.authorize(a.verifyAuthorize)},a.verifyAuthorize=function(e){e&&a.setState({authorized:!0})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.state.authorized?o.a.createElement(y,{trelloHandler:this.Trello}):o.a.createElement(m,{onLogin:this.onLogin})}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},44:function(e,t,a){e.exports=a(103)},51:function(e,t,a){},53:function(e,t,a){},55:function(e,t,a){},57:function(e,t,a){},59:function(e,t,a){},99:function(e,t,a){}},[[44,2,1]]]);
//# sourceMappingURL=main.9665238c.chunk.js.map